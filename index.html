<!DOCTYPE html>
<html lang="id" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Azthera SMP</title>
<style>
:root{
  --bg-dark:#060609;
  --panel-dark:#0f1114;
  --muted-dark:#9aa6b2;
  --accent-blue:#3da9fc;
  --glass:rgba(255,255,255,0.03);
  --glass-2:rgba(255,255,255,0.02);
}
/* Tema terang */
[data-theme="light"]{
  --bg-dark:#eef3f8;
  --panel-dark:#ffffff;
  --muted-dark:#4d5862;
  --accent-blue:#2b7cff;
  --glass:rgba(0,0,0,0.03);
  --glass-2:rgba(0,0,0,0.02);
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,sans-serif;}
html,body{height:100%;overflow:hidden;color:var(--muted-dark);transition:color .25s;}

/* ---------- Background paling belakang ---------- */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background: url("https://i.ibb.co.com/Z64HHhkR/IMG-20251014-082055.jpg") no-repeat center center fixed;
  background-size: cover;
  z-index: -1;
  pointer-events: none;
  transition: opacity .3s ease;
}

/* Ganti ke gambar siang saat tema light */
[data-theme="light"] body::before{
  background: url("https://i.ibb.co.com/bj7b4wPq/IMG-20251014-082040.jpg") no-repeat center center fixed;
  background-size: cover;
}

/* ---------- Loading Screen ---------- */
#loadingScreen{
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  background:#000;
  z-index:999;
  flex-direction:column;
  transition:opacity .5s ease;
}
.loader-circle{
  width:50px;height:50px;
  border:5px solid rgba(255,255,255,0.2);
  border-top-color:#fff;
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin-bottom:16px;
}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
.loader-text{color:#fff; font-weight:700;}

/* ---------- Welcome ---------- */
#welcome{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));
  z-index:200; text-align:center; display:none;
}
#welcome .box{
  background: var(--panel-dark);
  padding:24px 28px;
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
  max-width:400px;
}
#welcome .box h2{color:var(--accent-blue);margin-bottom:12px;}
#welcome .closeWelcome{
  margin-top:20px;
  padding:10px 16px;
  background:var(--accent-blue);
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
}

/* ---------- Panels ---------- */
.panel{
  position:fixed;
  inset:0;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:20px;
  z-index:130;
  background: transparent;
}
.panel.active{display:flex;}
.panel .box{
  background: var(--panel-dark);
  padding:28px;
  border-radius:16px;
  width:100%;
  max-width:480px;
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
  display:flex;
  flex-direction:column;
  align-items:center;
}
.panel h2{color:var(--accent-blue);margin-bottom:12px;font-size:2rem;}
.panel a.home-link{
  display:block;
  padding:14px 20px;
  margin:6px 0;
  background:var(--glass);
  border:1px solid var(--glass-2);
  border-radius:12px;
  color:inherit;
  font-weight:700;
  text-decoration:none;
  width:220px;
  text-align:center;
  transition:.2s;
}
.panel a.home-link:hover{background:var(--glass-2);}
.status-item{
  width:100%;
  padding:12px 16px;
  margin:6px 0;
  background:var(--glass);
  border:1px solid var(--glass-2);
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  font-weight:700;
  color:inherit;
}

/* ---------- Sidebar ---------- */
#hamburger{
  position:fixed; top:16px; right:12px; z-index:150;
  background:var(--panel-dark);
  color:var(--accent-blue);
  border-radius:10px;
  padding:10px;
  border:1px solid var(--glass-2);
  cursor:pointer;
}
.mini-drawer{
  position:fixed; top:0; right:0;
  width:60px; height:100%;
  background: var(--panel-dark);
  display:flex; flex-direction:column; align-items:center; padding-top:70px; gap:10px;
  transform:translateX(100%);
  transition:transform .30s ease;
  z-index:140;
  border-left:1px solid var(--glass-2);
}
.mini-drawer.open{transform:translateX(0);}
.mini-btn{
  width:48px; height:48px;
  background:transparent;
  border:1px solid var(--glass-2);
  border-radius:12px;
  display:flex; justify-content:center; align-items:center;
  font-size:20px; cursor:pointer;
  color:var(--accent-blue);
  transition:.14s;
}
.mini-btn:hover{background: var(--glass); transform:translateY(-3px);}

/* ---------- Toggle lever ---------- */
.settings-item{
  width:100%;
  padding:12px 16px;
  margin:6px 0;
  background:var(--glass);
  border:1px solid var(--glass-2);
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
  color:inherit;
}
.toggle-switch{
  position:relative;
  width:50px; height:24px;
  background:var(--glass);
  border-radius:12px;
  cursor:pointer;
  border:1px solid var(--glass-2);
}
.toggle-switch .lever{
  position:absolute;
  top:2px; left:2px;
  width:20px; height:20px;
  background:var(--accent-blue);
  border-radius:50%;
  transition:left .2s;
}
.toggle-switch.active .lever{left:28px;}
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loadingScreen">
  <div class="loader-circle"></div>
  <div class="loader-text">Loading...</div>
</div>

<!-- Welcome -->
<div id="welcome">
  <div class="box">
    <h2>Selamat Datang di Azthera SMP</h2>
    <p>Klik tombol di bawah untuk masuk ke halaman utama.</p>
    <button class="closeWelcome">Lanjut</button>
  </div>
</div>

<!-- Hamburger -->
<button id="hamburger">‚ò∞</button>

<!-- Sidebar -->
<aside class="mini-drawer" id="drawer">
  <button class="mini-btn" id="homeBtn">üè†</button>
  <button class="mini-btn" id="statusBtn">üìä</button>
  <button class="mini-btn" id="settingsBtn">‚öôÔ∏è</button>
</aside>

<!-- Panels -->
<section class="panel" id="homePanel">
  <div class="box">
    <h2>Azthera SMP</h2>
    <a href="https://youtube.com/@azthera.smp.server" target="_blank" class="home-link">YouTube</a>
    <a href="https://www.tiktok.com/@azthera.smp" target="_blank" class="home-link">TikTok</a>
    <a href="https://www.instagram.com/Afn.mc" target="_blank" class="home-link">Instagram</a>
    <a href="https://discord.gg/jfvsWcGpq7" target="_blank" class="home-link">Discord</a>
    <a href="https://chat.whatsapp.com/C5ys8VP3mahJeL9yZr6Tbo" target="_blank" class="home-link">WhatsApp</a>
  </div>
</section>

<section class="panel" id="statusPanel">
  <div class="box">
    <h2>Status Server</h2>
    <div class="status-item"><span>Alamat</span><span>mc.noxstore.site:25567</span></div>
    <div class="status-item"><span>Status</span><span id="serverState">Checking...</span></div>
    <div class="status-item"><span>Players</span><span id="serverPlayers">-</span></div>
  </div>
</section>

<section class="panel" id="settingsPanel">
  <div class="box">
    <h2>Pengaturan</h2>
    <div class="settings-item">
      <span>Tema: </span>
      <div class="toggle-switch" id="themeToggle"><div class="lever"></div></div>
    </div>
  </div>
</section>

<script>
// ==== PRELOAD BACKGROUND IMAGE ====
const images = [
  "https://i.ibb.co.com/Z64HHhkR/IMG-20251014-082055.jpg", // dark
  "https://i.ibb.co.com/bj7b4wPq/IMG-20251014-082040.jpg"  // light
];
let loadedCount = 0;
const loading = document.getElementById('loadingScreen');
const welcome = document.getElementById('welcome');

function checkLoaded(){
  loadedCount++;
  if(loadedCount === images.length){
    setTimeout(()=>{
      loading.style.opacity = '0';
      setTimeout(()=>{
        loading.style.display='none';
        welcome.style.display='flex';
      },500);
    },300);
  }
}

images.forEach(src=>{
  const img = new Image();
  img.src = src;
  img.onload = checkLoaded;
  img.onerror = checkLoaded;
});

// ==== WELCOME ====
document.querySelector('.closeWelcome').addEventListener('click',()=>{
  welcome.style.display='none';
  document.getElementById('homePanel').classList.add('active');
});

// ==== DRAWER ====
const drawer=document.getElementById('drawer');
document.getElementById('hamburger').addEventListener('click',()=>drawer.classList.toggle('open'));

// ==== PANEL SWITCH ====
const panels={
  home:document.getElementById('homePanel'),
  status:document.getElementById('statusPanel'),
  settings:document.getElementById('settingsPanel')
};
function openPanel(name){
  Object.values(panels).forEach(p=>p.classList.remove('active'));
  panels[name].classList.add('active');
}
document.getElementById('homeBtn').onclick=()=>openPanel('home');
document.getElementById('statusBtn').onclick=()=>openPanel('status');
document.getElementById('settingsBtn').onclick=()=>openPanel('settings');

// ==== SERVER STATUS ====
async function fetchServer(){
  const state=document.getElementById('serverState');
  const players=document.getElementById('serverPlayers');
  try{
    const res=await fetch('https://api.mcstatus.io/v2/status/java/mc.noxstore.site:25567',{cache:'no-store'});
    const data=await res.json();
    state.textContent=data.online?'üü¢ Online':'üî¥ Offline';
    players.textContent=data.players?.online+'/'+data.players?.max;
  }catch{
    state.textContent='‚ö™ Error';
    players.textContent='-';
  }
}
setInterval(()=>{if(panels.status.classList.contains('active')) fetchServer();},10000);

// ==== THEME TOGGLE ====
const toggle=document.getElementById('themeToggle');
const html=document.documentElement;
let theme=localStorage.getItem('az_theme')||'dark';
function applyTheme(t){
  html.setAttribute('data-theme',t);
  toggle.classList.toggle('active',t==='light');
  localStorage.setItem('az_theme',t);
}
toggle.addEventListener('click',()=>{
  theme=(theme==='dark'?'light':'dark');
  applyTheme(theme);
});
applyTheme(theme);
</script>
</body>
</html>
