<!DOCTYPE html>
<html lang="id" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Azthera SMP</title>
<style>
:root{
  --bg-dark:#060609;
  --panel-dark:#0f1114;
  --muted-dark:#9aa6b2;
  --accent-blue:#2f87e6;
  --glass:rgba(255,255,255,0.03);
  --glass-2:rgba(255,255,255,0.02);
}
[data-theme="light"]{
  --bg-dark:#eef3f8;
  --panel-dark:#ffffff;
  --muted-dark:#4d5862;
  --accent-blue:#2a6edc;
  --glass:rgba(0,0,0,0.03);
  --glass-2:rgba(0,0,0,0.02);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,sans-serif;}
html,body{height:100%;overflow:hidden;color:var(--muted-dark);transition:color .25s;}

/* Background */
body::before{
  content:"";
  position:fixed; inset:0;
  background:url("https://i.ibb.co.com/0Vdk3m46/Screenshot-2025-10-25-10-02-05-63-84181a524dcfbce864002b17997a7b1d.jpg") no-repeat center center fixed;
  background-size:cover;
  z-index:-1;
  pointer-events:none;
  transition:opacity .3s ease;
}
[data-theme="light"] body::before{
  background:url("https://i.ibb.co.com/v4bJgCTX/Screenshot-2025-10-25-10-01-17-37-84181a524dcfbce864002b17997a7b1d.jpg") no-repeat center center fixed;
  background-size:cover;
}

/* Loading Screen */
#loadingScreen{
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  flex-direction:column;
  background:#02030a;
  overflow:hidden;
  z-index:999;
  transition:opacity .8s ease;
}
.star{
  position:absolute;
  width:2px; height:2px;
  background:white;
  opacity:.8;
  border-radius:50%;
  animation:twinkle 2s infinite ease-in-out;
}
@keyframes twinkle{
  0%,100%{opacity:.2; transform:scale(1);}
  50%{opacity:1; transform:scale(1.3);}
}
.meteor{
  position:absolute;
  width:4px; height:100px;
  background:linear-gradient(to top, rgba(47,135,230,0.8), rgba(47,135,230,0));
  border-radius:2px;
  transform:rotate(45deg);
  opacity:.2;
  animation:meteorFall 3s linear infinite;
}
@keyframes meteorFall{
  0%{transform:translate(200px,-200px) rotate(45deg); opacity:0.4;}
  70%{opacity:0.3;}
  100%{transform:translate(-200px,800px) rotate(45deg); opacity:0;}
}
.loader-text{
  color:#fff;
  font-weight:700;
  font-size:20px;
  letter-spacing:1.5px;
  margin-top:180px;
  animation:fadeText 1.5s ease-in-out infinite;
}
@keyframes fadeText{
  0%,100%{opacity:.4;}
  50%{opacity:1;}
}

/* Welcome */
#welcome{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.6));
  z-index:200;text-align:center;display:none;
}
#welcome .box{
  background:var(--panel-dark);
  padding:30px 34px;border-radius:20px;
  box-shadow:0 25px 60px rgba(0,0,0,0.6);
  max-width:420px;transform:translateY(-40px);
  animation:fadeSlideDown 0.8s ease forwards;
  border:1px solid var(--glass);
}
#welcome .box h2,
#welcome .box p,
#welcome .box button {
  opacity:0;transform:translateY(-30px);
  animation:fadeSlideDown 0.7s ease forwards;
  animation-play-state:paused;
}
#welcome.show .box h2,
#welcome.show .box p,
#welcome.show .box button {animation-play-state:running;}
#welcome .box h2{color:var(--accent-blue);margin-bottom:12px;animation-delay:.2s;}
#welcome .box p{animation-delay:.45s;}
#welcome .box button{animation-delay:.7s;}
@keyframes fadeSlideDown{from{opacity:0;transform:translateY(-25px);}to{opacity:1;transform:translateY(0);}}
#welcome .closeWelcome{
  margin-top:20px;padding:10px 16px;
  background:var(--accent-blue);color:#fff;border:none;border-radius:12px;
  cursor:pointer;font-weight:700;
  transition:transform .2s, box-shadow .2s;
  box-shadow:0 0 12px rgba(47,135,230,0.3);
}
#welcome .closeWelcome:hover{transform:scale(1.05);box-shadow:0 0 18px rgba(47,135,230,0.5);}

/* Panels & Sidebar */
.panel{position:fixed;inset:0;display:none;flex-direction:column;align-items:center;justify-content:center;padding:20px;z-index:130;background:transparent;}
.panel.active{display:flex;}
.panel .box{background:var(--panel-dark);padding:28px;border-radius:16px;width:100%;max-width:480px;box-shadow:0 20px 50px rgba(0,0,0,0.6);display:flex;flex-direction:column;align-items:center;border:1px solid var(--glass);}
.panel .box>*{opacity:0;transform:translateY(-25px);animation:fadeSlideDown .6s ease forwards;}
.panel.active .box>*:nth-child(1){animation-delay:.2s;}
.panel.active .box>*:nth-child(2){animation-delay:.4s;}
.panel.active .box>*:nth-child(3){animation-delay:.6s;}
.panel.active .box>*:nth-child(4){animation-delay:.8s;}
.panel.active .box>*:nth-child(5){animation-delay:1s;}
.panel.active .box>*:nth-child(6){animation-delay:1.2s;}
.panel.active .box>*:nth-child(7){animation-delay:1.4s;}
.panel h2{color:var(--accent-blue);margin-bottom:12px;font-size:2rem;}
.panel a.home-link{display:block;padding:14px 20px;margin:6px 0;background:var(--glass);border:1px solid var(--glass-2);border-radius:12px;color:inherit;font-weight:700;text-decoration:none;width:220px;text-align:center;transition:.2s;}
.panel a.home-link:hover{background:var(--glass-2);}

/* STATUS ITEM */
.status-item{
  width:100%;
  padding:12px 16px;
  margin:6px 0;
  background:var(--glass);
  border:1px solid var(--glass-2);
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
  color:inherit;
  gap:12px;
}
.status-item span:last-child{
  max-width:180px;
  overflow-x:auto;
  white-space:nowrap;
  text-align:right;
  scrollbar-width:thin;
}
.status-item span:last-child::-webkit-scrollbar{height:4px;}
.status-item span:last-child::-webkit-scrollbar-thumb{background:var(--accent-blue);border-radius:10px;}
.status-item span:last-child::-webkit-scrollbar-track{background:transparent;}

/* SIDEBAR */
#hamburger{position:fixed;top:16px;right:12px;z-index:150;background:var(--panel-dark);color:var(--accent-blue);border-radius:10px;padding:10px;border:1px solid var(--glass-2);cursor:pointer;}
.mini-drawer{position:fixed;top:0;right:0;width:60px;height:100%;background:var(--panel-dark);display:flex;flex-direction:column;align-items:center;padding-top:70px;gap:10px;transform:translateX(100%);transition:transform .3s ease;z-index:140;border-left:1px solid var(--glass-2);}
.mini-drawer.open{transform:translateX(0);}
.mini-btn{width:48px;height:48px;background:transparent;border:1px solid var(--glass-2);border-radius:12px;display:flex;justify-content:center;align-items:center;font-size:20px;cursor:pointer;color:var(--accent-blue);transition:.14s;}
.mini-btn:hover{background:var(--glass);transform:translateY(-3px);}
.settings-item{
  width:100%;
  padding:12px 16px;
  margin:6px 0;
  background:var(--glass);
  border:1px solid var(--glass-2);
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
  color:inherit;
}
.toggle-switch{
  position:relative;
  width:50px;
  height:24px;
  background:var(--glass);
  border-radius:12px;
  cursor:pointer;
  border:1px solid var(--glass-2);
}
.toggle-switch .lever{
  position:absolute;
  top:2px;
  left:2px;
  width:20px;
  height:20px;
  background:var(--accent-blue);
  border-radius:50%;
  transition:left .2s;
}
.toggle-switch.active .lever{
  left:28px;
}
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loadingScreen"><div class="loader-text">Loading...</div></div>

<!-- Welcome -->
<div id="welcome">
  <div class="box">
    <h2 id="welcomeTitle">Selamat Datang di Azthera SMP</h2>
    <p id="welcomeDesc">Klik tombol di bawah untuk masuk ke halaman utama.</p>
    <button class="closeWelcome" id="welcomeBtn">Lanjut</button>
  </div>
</div>

<!-- Sidebar -->
<button id="hamburger">‚ò∞</button>
<aside class="mini-drawer" id="drawer">
  <button class="mini-btn" id="homeBtn">üè†</button>
  <button class="mini-btn" id="shopBtn">üõí</button>
  <button class="mini-btn" id="supportBtn">üíñ</button>
  <button class="mini-btn" id="statusBtn">üåê</button>
  <button class="mini-btn" id="settingsBtn">‚öôÔ∏è</button>
</aside>

<!-- Panels -->
<section class="panel" id="homePanel">
  <div class="box">
    <h2 id="homeTitle">Azthera SMP</h2>
    <a href="https://youtube.com/@azthera.smp.server" target="_blank" class="home-link" id="linkYT">YouTube</a>
    <a href="https://www.tiktok.com/@azthera.smp" target="_blank" class="home-link" id="linkTT">TikTok</a>
    <a href="https://www.instagram.com/Afn.mc" target="_blank" class="home-link" id="linkIG">Instagram</a>
    <a href="https://discord.gg/jfvsWcGpq7" target="_blank" class="home-link" id="linkDC">Discord</a>
    <a href="https://chat.whatsapp.com/C5ys8VP3mahJeL9yZr6Tbo" target="_blank" class="home-link" id="linkWA">WhatsApp</a>
  </div>
</section>

<section class="panel" id="statusPanel">
  <div class="box">
    <h2 id="statusTitle">Status Server</h2>
    <div class="status-item"><span id="statusAddr">Alamat</span><span>nl-2.nura.host:25565</span></div>
    <div class="status-item"><span id="statusLabel">Status</span><span id="serverState">Checking...</span></div>
    <div class="status-item"><span id="playersLabel">Players</span><span id="serverPlayers">-</span></div>
  </div>
</section>

<section class="panel" id="settingsPanel">
  <div class="box">
    <h2 id="settingsTitle">Pengaturan</h2>
    
    <div class="settings-item">
      <span id="themeLabel">Tema:</span>
      <div class="toggle-switch" id="themeToggle"><div class="lever"></div></div>
    </div>

    <div class="settings-item">
      <span id="langLabel">Bahasa:</span>
      <select id="languageSelect" style="background:var(--glass); border:1px solid var(--glass-2); color:var(--muted-dark); padding:6px 10px; border-radius:8px; font-weight:700; appearance: none;">
        <option value="id">Bahasa Indonesia</option>
        <option value="en">English</option>
      </select>
    </div>

    <!-- ‚ùå Bagian "Animasi Latar" DIHAPUS -->

    <button id="resetSettings" style="margin-top:16px; padding:10px 16px; background:var(--accent-blue); color:#fff; border:none; border-radius:12px; font-weight:700; cursor:pointer; width:100%;">
      <span id="resetLabel">Reset Pengaturan</span>
    </button>
  </div>
</section>

<script>
// === Loading Screen Stars & Meteors ===
const loading = document.getElementById("loadingScreen");
for(let i=0;i<80;i++){
  const s=document.createElement('div');
  s.className='star';
  s.style.top=Math.random()*100+'%';
  s.style.left=Math.random()*100+'%';
  s.style.animationDelay=Math.random()*2+'s';
  loading.appendChild(s);
}
for(let i=0;i<5;i++){
  const m=document.createElement('div');
  m.className='meteor';
  m.style.top=Math.random()*40+'%';
  m.style.left=Math.random()*100+'%';
  m.style.animationDelay=(i*0.8)+'s';
  m.style.animationDuration=(2.8+Math.random())+'s';
  loading.appendChild(m);
}

// === Preload Images & Show Welcome ===
const images=["https://i.ibb.co.com/Z64HHhkR/IMG-20251014-082055.jpg","https://i.ibb.co.com/bj7b4wPq/IMG-20251014-082040.jpg"];
let loadedCount=0;
const welcome=document.getElementById('welcome');

function checkLoaded(){
  loadedCount++;
  if(loadedCount===images.length){
    setTimeout(()=>{
      loading.style.opacity='0';
      setTimeout(()=>{
        loading.style.display='none';
        welcome.style.display='flex';
        void welcome.offsetWidth;
        welcome.classList.add('show');
      },800);
    },1000);
  }
}

images.forEach(src=>{
  const img=new Image();
  img.src=src;
  img.onload=checkLoaded;
  img.onerror=checkLoaded;
});

// === Welcome Close ===
document.querySelector('.closeWelcome').addEventListener('click',()=>{
  welcome.style.display='none';
  document.getElementById('homePanel').classList.add('active');
});

// === Sidebar Toggle ===
const drawer=document.getElementById('drawer');
document.getElementById('hamburger').addEventListener('click',()=>drawer.classList.toggle('open'));

// === Panel Navigation ===
const panels={
  home:document.getElementById('homePanel'),
  status:document.getElementById('statusPanel'),
  settings:document.getElementById('settingsPanel')
};
function openPanel(name){
  Object.values(panels).forEach(p=>p.classList.remove('active'));
  panels[name].classList.add('active');
}
document.getElementById('homeBtn').onclick=()=>openPanel('home');
document.getElementById('statusBtn').onclick=()=>openPanel('status');
document.getElementById('settingsBtn').onclick=()=>openPanel('settings');
document.getElementById('shopBtn').onclick=()=>window.open('https://sociabuzz.com/azthera_smp/shop','_blank');
document.getElementById('supportBtn').onclick=()=>window.open('https://sociabuzz.com/azthera_smp/tribe','_blank');

// === Server Status ===
async function fetchServer(){
  const state=document.getElementById('serverState');
  const players=document.getElementById('serverPlayers');
  try{
    const res=await fetch('https://api.mcstatus.io/v2/status/java/nl-2.nura.host:25565',{cache:'no-store'});
    const data=await res.json();
    state.textContent=data.online?'üü¢ Online':'üî¥ Offline';
    players.textContent=data.players?.online+'/'+data.players?.max;
  }catch{
    state.textContent='‚ö™ Error';
    players.textContent='-';
  }
}
setInterval(()=>{
  if(panels.status.classList.contains('active')) fetchServer();
},10000);

// === Theme Toggle ===
const toggle=document.getElementById('themeToggle');
const html=document.documentElement;
let theme=localStorage.getItem('az_theme')||'dark';
function applyTheme(t){
  html.setAttribute('data-theme',t);
  toggle.classList.toggle('active',t==='light');
  localStorage.setItem('az_theme',t);
}
toggle.addEventListener('click',()=>{
  theme=(theme==='dark'?'light':'dark');
  applyTheme(theme);
});
applyTheme(theme);

// === Bahasa ===
const langData = {
  id: {
    welcomeTitle: "Selamat Datang di Azthera SMP",
    welcomeDesc: "Klik tombol di bawah untuk masuk ke halaman utama.",
    welcomeBtn: "Lanjut",
    homeTitle: "Azthera SMP",
    statusTitle: "Status Server",
    settingsTitle: "Pengaturan",
    themeLabel: "Tema:",
    langLabel: "Bahasa:",
    resetLabel: "Reset Pengaturan",
    statusAddr: "Alamat",
    statusLabel: "Status",
    playersLabel: "Players",
    linkYT: "YouTube",
    linkTT: "TikTok",
    linkIG: "Instagram",
    linkDC: "Discord",
    linkWA: "WhatsApp"
  },
  en: {
    welcomeTitle: "Welcome to Azthera SMP",
    welcomeDesc: "Click the button below to enter the main page.",
    welcomeBtn: "Continue",
    homeTitle: "Azthera SMP",
    statusTitle: "Server Status",
    settingsTitle: "Settings",
    themeLabel: "Theme:",
    langLabel: "Language:",
    resetLabel: "Reset Settings",
    statusAddr: "Address",
    statusLabel: "Status",
    playersLabel: "Players",
    linkYT: "YouTube",
    linkTT: "TikTok",
    linkIG: "Instagram",
    linkDC: "Discord",
    linkWA: "WhatsApp"
  }
};

let currentLang = localStorage.getItem('az_lang') || 'id';

function applyLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('az_lang', lang);
  const data = langData[lang];
  document.documentElement.lang = lang;
  // Update UI
  document.getElementById('welcomeTitle').textContent = data.welcomeTitle;
  document.getElementById('welcomeDesc').textContent = data.welcomeDesc;
  document.getElementById('welcomeBtn').textContent = data.welcomeBtn;
  document.getElementById('homeTitle').textContent = data.homeTitle;
  document.getElementById('statusTitle').textContent = data.statusTitle;
  document.getElementById('settingsTitle').textContent = data.settingsTitle;
  document.getElementById('themeLabel').textContent = data.themeLabel;
  document.getElementById('langLabel').textContent = data.langLabel;
  document.getElementById('resetLabel').textContent = data.resetLabel;
  document.getElementById('statusAddr').textContent = data.statusAddr;
  document.getElementById('statusLabel').textContent = data.statusLabel;
  document.getElementById('playersLabel').textContent = data.playersLabel;
  const links = ['linkYT','linkTT','linkIG','linkDC','linkWA'];
  links.forEach(id => {
    if (data[id]) document.getElementById(id).textContent = data[id];
  });
}

document.getElementById('languageSelect').value = currentLang;
document.getElementById('languageSelect').addEventListener('change', (e) => {
  applyLanguage(e.target.value);
  const msg = currentLang === 'en' ? 'Language changed to English.' : 'Bahasa diubah ke Indonesia.';
  alert(msg);
});
applyLanguage(currentLang);

// === Reset Settings ===
document.getElementById('resetSettings').addEventListener('click', () => {
  if (confirm('Yakin ingin menghapus semua pengaturan?')) {
    localStorage.clear();
    location.reload();
  }
});

// === Close Drawer on Outside Click ===
document.addEventListener('click', (e) => {
  const hamburger = document.getElementById('hamburger');
  if (drawer.classList.contains('open') && !drawer.contains(e.target) && e.target !== hamburger) {
    drawer.classList.remove('open');
  }
});
</script>
</body>
</html>
